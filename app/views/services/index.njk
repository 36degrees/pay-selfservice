{% extends "../layout.njk" %}

{% block page_title %}
Choose service - GOV.UK Pay
{% endblock %}

{% block mainContent %}
<div class="column-full">
  {% if new_service_name %}
  <div class="flash-container"><p id="new-service-name" class="notification generic-flash">You have been added to {{new_service_name}}</p></div>
  {% endif %}

  <div class="grid-row grid-row-align-to-edges">
    <div class="column-two-thirds">
      <h1 class="heading-large page-title service-count">
        {% if services_singular %}
          You have {{services.length}} service
        {% else %}
          You have {{services.length}} services
        {% endif %}
      </h1>
    </div>
    <div class="column-one-third">
      <a href="{{routes.serviceSwitcher.create}}" class="create-service">
        Add a new service
      </a>
    </div>
  </div>
  {% if services.length > 7 %}
  <div class="js-show flex-grid--row">
    <div class="flex-grid--column-half tight">
      <label class="form-label-bold" for="service-filter">Filter services</label>
      <div id="service-filter-container"></div>
    </div>
    <div class="flex-grid--column-half tight">
      <button class="services-clear-filters" id="clear-filters">Clear filter</button>
    </div>
  </div>
  {% endif %}
  <div class="flex-grid">
    {% for service in services %}
      {% if services.length > 7 %}
        {% include "./_service_section_small.njk" %}
      {% else %}
        {% include "./_service_section.njk" %}
      {% endif %}
    {% endfor %}
  </div>
</div>
{% endblock %}

{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}
{% extends "layout.njk" %}

{% block pageTitle %}
  Your PSP - {{currentService.name}} {{ paymentProvider | formatPSPname }} - GOV.UK Pay
{% endblock %}

{% block side_navigation %}
  {% include "includes/side-navigation.njk" %}
{% endblock %}

{% block mainContent %}
<div class="govuk-grid-column-two-thirds">
  {% if flash.switchPSPSuccess %}
    {% set html %}
      <p class="govuk-notification-banner__heading">
        You've switched payment service provider
      </p>
      <p class="govuk-body">
        {{ flash.switchPSPSuccess }}
      </p>
    {% endset %}

    {{ govukNotificationBanner({
      html: html,
      type: 'success'
    }) }}
  {% endif %}
  <h1 class="govuk-heading-l page-title">Your payment service provider (PSP) - {{ paymentProvider | formatPSPname }}</h1>

  {% if paymentProvider === "worldpay" %}
    {% include "./_worldpay.njk" %}
    {% include "./_worldpay-flex.njk" %}
  {% endif %}
  {% if paymentProvider === "smartpay" %}
    {% include "./_smartpay.njk" %}
  {% endif %}
  {% if paymentProvider === "epdq" %}
    {% include "./_epdq.njk" %}
  {% endif %}
</div>
{% endblock %}
